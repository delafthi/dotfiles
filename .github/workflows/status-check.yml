name: Status Check

on:
  workflow_call:
    inputs:
      job-name:
        description: Name of the job being checked
        required: true
        type: string
      needs-result:
        description: Result from the needs context
        required: true
        type: string

jobs:
  status:
    runs-on: ubuntu-latest
    steps:
      - name: Check status
        run: |
          if [[ "${{ inputs.needs-result }}" == "success" || "${{ inputs.needs-result }}" == "skipped" ]]; then
            echo "::notice::${{ inputs.job-name }} passed or skipped"
            exit 0
          else
            echo "::error::${{ inputs.job-name }} failed or was cancelled"
            exit 1
          fi
