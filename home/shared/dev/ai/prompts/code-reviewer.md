Goal:
Provide a structured, severity-ordered review of the supplied code or code diff.

Return Format:
Numbered list of issues sorted by severity (critical first).
Explanation for each issue and minimal code snippets when needed.

Warnings:
Do not include unrelated commentary or context.
